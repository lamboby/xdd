<ion-view view-title="添加学生">
    <ion-content>
        <form ng-submit="save()" novalidate>
            <br />
            <label class="item item-input">
                <span class="input-label">姓名</span>
                <input type="text" placeholder="姓名" ng-model="student.stu_name" required>
            </label>

            <label class="item item-input">
                <span class="input-label">学校</span>
                <input type="text" placeholder="学校" ng-model="current.schoolName" ng-click="showModal()" required>
            </label>

            <label class="item item-input item-select">
                <div class="input-label">
                    年级
                </div>
                <select ng-model="student.grade_id" ng-change="selectGrade()">
                    <option value="{{grade.grade_id}}" ng-repeat="grade in grades">{{grade.name}}</option>
                </select>
            </label>

            <label class="item item-input item-select">
                <div class="input-label">
                    班级
                </div>
                <select ng-model="student.class_id">
                    <option value="{{class.class_id}}" ng-repeat="class in classes">{{class.name}}</option>
                </select>
            </label>

            <label class="item item-input">
                <span class="input-label">学号</span>
                <input type="text" placeholder="学号" ng-model="student.sid" required>
            </label>

            <label class="item item-input item-select">
                <div class="input-label">
                    性别
                </div>
                <select ng-model="student.gender">
                    <option value="0" selected>男</option>
                    <option value="1">女</option>
                </select>
            </label>

            <label class="item item-input">
                <span class="input-label">生日</span>
                <input type="date" placeholder="生日" ng-model="student.birthday">
            </label>
            <div class="padding">
                <button class="button button-block button-balanced" type="submit">保 存</button>
            </div>
        </form>
    </ion-content>
</ion-view>

<script id="school-modal.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar>
            <h1 class="title">选择学校</h1>
        </ion-header-bar>
        <ion-content>
            <div class="item item-input">
                <span class="input-label">学校名</span>
                <input type="text" placeholder="学校名" ng-model="current.query" required>
                <button class="button button-balanced" style="margin-right:5px" ng-click="querySchool()">查 找</button>
            </div>
            <ion-list>
                <ion-radio ng-model="student.sch_id" name="school-group" ng-value="{{school.id}}" ng-repeat="school in schools">
                    <h2>{{school.name}}</h2>
                    <p>园长：{{school.principal}}</p>
                    <p>联系方式：{{school.phone}}</p>
                    <p>地址：{{school.address}}</p>
                </ion-radio>
            </ion-list>
        </ion-content>
        <ion-footer-bar align-title="left" class="bar-positive">
            <div class="buttons">
                <button class="button button-assertive" ng-click="hideModal()">取 消</button>
            </div>
            <h1 class="title"></h1>
            <div class="buttons">
                <button class="button button-positive" ng-click="selectSchool()">确 定</button>
            </div>
        </ion-footer-bar>
    </ion-modal-view>
</script>