<ion-view view-title="添加卡">
    <ion-content>
        <form ng-submit="save()" novalidate>
            <br />
            <label class="item item-input">
                <span class="input-label">卡号</span>
                <input type="text" placeholder="卡号" ng-model="card.card" required>
            </label>

            <label class="item item-input item-select">
                <div class="input-label">
                    类型
                </div>
                <select ng-model="card.kind">
                    <option value="{{kind.id}}" ng-repeat="kind in kinds">{{kind.name}}</option>
                </select>
            </label>

            <label class="item item-input">
                <span class="input-label">学校</span>
                <input type="text" placeholder="学校" ng-model="current.sch_name" ng-click="showModal()" required>
            </label>

            <div class="padding">
                <button class="button button-block button-balanced" type="submit">保 存</button>
            </div>
        </form>
    </ion-content>
</ion-view>

<script id="school-modal.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar align-title="center">
            <h1 class="title">选择学校</h1>
        </ion-header-bar>
        <ion-content>
            <div class="item item-input">
                <span class="input-label">学校名</span>
                <input type="text" placeholder="学校名" ng-model="current.query" required>
                <a class="button button-icon icon ion-search" ng-click="querySchool()"></a>
            </div>
            <ion-list>
                <ion-radio ng-model="card.sch_id" name="school-group" ng-value="{{school.id}}" ng-repeat="school in schools">
                    <h2>{{school.name}}</h2>
                    <p>园长：{{school.principal}}</p>
                    <p>联系方式：{{school.phone}}</p>
                    <p>地址：{{school.address}}</p>
                </ion-radio>
            </ion-list>
        </ion-content>
        <ion-footer-bar class="bar-positive">
            <div class="buttons">
                <button class="button button-assertive" ng-click="hideModal()">取 消</button>
            </div>
            <h1 class="title"></h1>
            <div class="buttons">
                <button class="button button-positive" ng-click="selectSchool()">确 定</button>
            </div>
        </ion-footer-bar>
    </ion-modal-view>
</script>